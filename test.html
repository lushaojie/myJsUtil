<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<style>
		div{
			color:  rgb(136, 138, 255);
		}
	</style>
</head>

<body>
	<button id="btn">btn</button>
</body>
<script src="newTools.js"></script>
<script>
	// const requstFn = (url, options, timer) => {

	// 	function axiosFn(url, options){
	// 		return new Promise(function(resolve, reject){
	// 			axios({
	// 				url,
	// 				...options
	// 			}).then(res => {
	// 				resolve();
	// 			})
	// 		})
	// 	}
	// 	function timerOutFn(t){
	// 		return new Promise((resolve, reject) => {
	// 			setTimeout(() => {
	// 				reject('请求失败');
	// 			}, t);
	// 		})
	// 	}

	// 	return Promise.race([
	// 		axiosFn(url, options),
	// 		timerOutFn(timer)
	// 	])
	// }

	function unique(tagArr, key) {
		let temp = {},
			arr = [],
			leng = tagArr.length;
		for (let i = 0; i < leng; i++) {
			let item = tagArr[i];
			if(key && typeof(tagArr[i]) === 'object'){
				item = tagArr[i][key];
			}
			
			if (temp[item] === undefined) {
				temp[item] = i;
				arr.push(tagArr[i])
			} else {
				temp[item] += '-' + i;
			}
		}
		return arr;
	}
	const arr = [ 'a', {name: 'a', age: 20}, {name: 'b', age: 21}, 'b', 20, {name: 'a', age: 21}, 21, {name: 'b', age: 20} ]
	const res = unique(arr, 'name');
	console.log( res )
	
</script>

</html>